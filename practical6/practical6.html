<h1 id="objectives">Objectives</h1>
<p>This practical has been developed in collaboration with Dr. Javier Macia to strengthen some of the concepts and methods developed in the Mathematics subject, jointly with FCB. The learning objectives for this practical are:</p>
<ul>
<li>Implement in Python the SIR model of spreading infectious diseases.</li>
<li>Parametrize the Python implementation from the command line.</li>
<li>Use the implemented model to explore effect of different parameters.</li>
<li>Make syntax errors in Python.</li>
<li>Correct syntax errors in Python.</li>
<li>Debug your program when it doesn't work.</li>
</ul>
<p>Whenever you are stuck with an error, please consult the section entitled &quot;Debugging&quot; from <a href="/practical4/">practical 4</a>.</p>
<h1 id="setup-and-background">Setup and background</h1>
<p>To do this practical you need an installation of Python version 3. You can find the instructions in the <a href="/setup/">setup</a> link on how to install Python version 3 in your system. Once Python is installed, you should be able to call it from the shell in the terminal window. You can check whether that is possible by typing:</p>
<pre><code>$ which python
$ python --version</code></pre>
<p>It may happen that you have two Python installations, one corresponding to version 2.x and another to version 3.x. In that situation the previous command may say that your Python version is 2.x and to access the version 3 you need to call the executable <code>python3</code>. Try then for instance:</p>
<pre><code>$ python3 --version</code></pre>
<p>If this is your case, then whenever the executable <code>python</code> is invoked in the rest of this practical, please use <code>python3</code> instead.</p>
<h1 id="the-differential-equation-for-a-simplified-sir-model">The differential equation for a simplified SIR model</h1>
<p>A simplified <a href="https://en.wikipedia.org/wiki/Compartmental_models_in_epidemiology">SIR model</a> of spreading an infection can be described with the following ordinary differential equation:</p>
<p><br /><span class="math display">$$\begin{equation}
    \frac{dI}{dt}=\rho\cdot I \cdot (1 - I) - \alpha \cdot I
  \end{equation} $$</span><br /> where:</p>
<ul>
<li><p><span class="math inline"><em>I</em></span> is the fraction (<span class="math inline">0 ≤ <em>I</em> ≤ 1</span>) of infected population. We split the entire population in two fractions, infected (<span class="math inline"><em>I</em></span>) and uninfected (<span class="math inline">1 − <em>I</em></span>).</p></li>
<li><p><span class="math inline"><em>ρ</em></span> is the average number of people who will get infected with a contagious disease from one person with that disease, also known as <span class="math inline"><em>R</em><sub>0</sub></span> or <a href="https://en.wikipedia.org/wiki/Basic_reproduction_number">basic reproduction number</a>.</p></li>
<li><p><span class="math inline"><em>α</em></span> is the average number of people who recovers from the disease.</p></li>
</ul>
<p>Implement a script in Python called <code>sir.py</code> that takes the previous three terms as arguments in the command line and prints the calculation for <span class="math inline"><em>d</em><em>I</em>/<em>d</em><em>t</em></span> using the above formula. For instance, the following call should give <code>0.045</code> as a result when <span class="math inline"><em>I</em> = 0.1</span>, <span class="math inline"><em>ρ</em> = 1.5</span> and <span class="math inline"><em>α</em> = 0.9</span>.</p>
<pre><code>$ python sir.py 0.1 1.5 0.9
0.045</code></pre>
<p>Moreover, when the script is called without arguments or with the wrong number of arguments, the following message should be shown:</p>
<pre><code>$ python sir.py 
error: sir.py &lt;I&gt; &lt;rho&gt; &lt;alpha&gt;</code></pre>
<h1 id="solving-a-ordinary-differential-equation-with-the-euler-method">Solving a ordinary differential equation with the Euler method</h1>
<p>A simple ordinary differential equation (ODE) of the form</p>
<p><br /><span class="math display">$$
\begin{equation}
\frac{dX}{dt} = c\cdot X
\label{eq:cx}
\end{equation}
$$</span><br /></p>
<p>where <span class="math inline"><em>X</em></span> changes with <span class="math inline"><em>t</em></span> and <span class="math inline"><em>c</em></span> is some constant value, it can be analytically solved by moving terms and integrating separately both sides of the equality as follows (see a <a href="https://en.wikipedia.org/wiki/Lists_of_integrals">list of integrals</a>)</p>
<p><br /><span class="math display">$$ \begin{eqnarray}
   \frac{1}{X}\cdot dX &amp; = &amp; c\cdot dt \\
   ln(X) &amp; = &amp; c\cdot t \\
   X &amp; = &amp; e^{ct}
   \end{eqnarray} $$</span><br /></p>
<p>However, such an exact solution often does not exist and we need to rely on numerical integration methods to find an approximate solution. The simplest of such methods is the <a href="https://en.wikipedia.org/wiki/Euler_method">Euler's method</a>, which is based on calculating the slope of the tangent line to the curve corresponding to the differential equation that we want to approximate.</p>
<div class="figure">
<img src="Euler_method.png" alt="Exact curve shown in blue, approximation in red. Image taken from Wikipedia" />
<p class="caption">Exact curve shown in blue, approximation in red. Image taken from <a href="https://en.wikipedia.org/wiki/Euler_method">Wikipedia</a></p>
</div>
<p>Given a generic (first-order) ODE of the form</p>
<p><br /><span class="math display">$$ \frac{dX}{dt} = f(t, X) $$</span><br /></p>
<p>and equally-spaced time points</p>
<p><br /><span class="math display">$$ \begin{eqnarray}
     t &amp; = &amp; \{t_0, t_1, ..., t_n\}
   \end{eqnarray} $$</span><br /> so that for any two given time points</p>
<p><br /><span class="math display">$$ \begin{eqnarray}
     h &amp; = &amp; t_i - t_{i-1}
   \end{eqnarray} $$</span><br /> the Euler's method approximates the next value of <span class="math inline"><em>X</em></span> using the following recurrence</p>
<p><br /><span class="math display">$$ \begin{eqnarray}
     X_1 &amp; = &amp; X_0 + h\cdot f(t_0, X_0) \\
     X_2 &amp; = &amp; X_1 + h\cdot f(t_1, X_1) \\
     X_3 &amp; = &amp; X_2 + h\cdot f(t_2, X_2) \\
     \vdots &amp; = &amp; \vdots \\
     X_n &amp; = &amp; X_{n-1} + h\cdot f(t_{n-1}, X_{n-1})
   \end{eqnarray} $$</span><br /></p>
<p>for some initial (condition) value <span class="math inline"><em>X</em><sub>0</sub></span>. This can be compactly written using the following recurrence formula</p>
<p><br /><span class="math display">$$ \begin{eqnarray}
     X_i &amp; = &amp; X_{i-1} + h\cdot f(t_{i-1}, X_{i-1})
   \end{eqnarray} $$</span><br /></p>
<p>We are going to illustrate the Euler's method by implementing it in Python for the previous example Equation ().</p>
