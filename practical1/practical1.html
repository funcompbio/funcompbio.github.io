<h1 id="setup-and-background">Setup and background</h1>
<p>In this practical we will use some basic commands to navigate and manipulate the Unix file system. You need to have access to the <a href="https://en.wikipedia.org/wiki/Command-line_interface">command-line interface</a> of your operating system. Please check the <a href="/setup/">setup</a> webpage to make sure that you have access to some flavor of an Unix operating system and its command line.</p>
<p>To practise working with files from the Unix command-line we will download some COVID19 data. Please follow the next two steps:</p>
<ol style="list-style-type: decimal">
<li>Go to the Catalan Health Departament COVID data portal at <a href="https://dadescovid.cat" class="uri">https://dadescovid.cat</a> and switch the language to &quot;ENGLISH&quot; using the pull-down menu on the top-right corner of the page.</li>
<li>Follow the downloads link and on the next page click and download the two files corresponding to the &quot;7 DAY AGGREGATION&quot; and the &quot;DAILY DATA&quot; for &quot;CATALUNYA&quot;. Make sure you know exactly where in your filesystem these two files have been downloaded. <strong>Tip:</strong> some browsers automatically download files into a folder called &quot;Downloads&quot; or under a name corresponding to the translation of &quot;Downloads&quot; to the default language of your operating system.</li>
</ol>
<h1 id="creating-your-first-directory">Creating your first directory</h1>
<p>Open a terminal window and figure out which is your username and your default path working directory (PWD) by typing the commands <code>whoami</code> (first) and <code>pwd</code> (second) on the <a href="https://en.wikipedia.org/wiki/Command-line_interface#Command_prompt">command prompt</a>. After you type each command you should press the <code>Enter</code> key to ask the shell to execute the command. Your interaction with the shell in the terminal window should look similar to the following image.</p>
<div class="figure">
<img src="./terminaldefault.png" />

</div>
<p>The command prompt may display different information to the left of the cursor and usually ends with the dollar sign. The solely purpose of the command prompt is to indicate where we can start typing commands, while the purpose of the cursor is to indicate that the shell is waiting for us to type commands. In the image above the command prompt it is displaying the name of the host computer (<code>messi</code>) and the the current PWD, which corresponds to our <a href="https://en.wikipedia.org/wiki/Home_directory"><em>home</em> directory</a> and for this reason is abbreviated with the tilde <code>~</code>. In the image above the home directory is <code>/Users/robert</code>, but tipically in a Unix system the home directory would hang from a directory called <code>/home</code>.</p>
<p>Now, give the command to create a directory called <code>practical1</code>:</p>
<pre><code>$ mkdir practical1</code></pre>
<p>To check whether we have successfully created a directory called <code>practical1</code> we can use the command <code>ls</code> and verify whether among the listed files we can find the name <code>practical1</code>. The output of <code>ls</code> consists of the names of every file in your current PWD. It may useful to distinguish between regular files and directories, you can do that in different ways, one of them using the option <code>-F</code>:</p>
<pre><code>$ ls -F</code></pre>
<p>You should see a trailing slash character '/' right after the name of each file that is a directory, i.e., you should find for instance 'practical1/'.</p>
<h1 id="using-the-online-manual">Using the online manual</h1>
<p>The Unix system an online manual pages for each of its commands that can be accessed through the command <code>man</code> giving as first argument the name of the command for which you want to read its manual page. For instance, try to access the manual page of the command <code>ls</code> by doing:</p>
<pre><code>man ls</code></pre>
<p>All manual pages have the same structure of sections <code>NAME</code>, <code>SYNOPSIS</code>, <code>DESCRIPTION</code>, etc. and you can browse through it by using the <code>Enter</code> key to scroll one line at a time, the <code>Space</code> key to scroll by page, the <code>b</code> key to scroll one page backwards and the <code>q</code> key to quit the manual. Checkout the meaning of the option <code>F</code> in the manual of <code>ls</code> and the manual page for <code>mkdir</code>. Make sure you understand what is said in the section <code>NAME</code>.</p>
<h1 id="changing-the-default-path-working-directory">Changing the default path working directory</h1>
<p>We can change our default PWD to the new directory we have created before by doing:</p>
<pre><code>$ cd practical1</code></pre>
<p>To check whether we have successfully changed the PWD to the new directory, use again the command <code>pwd</code>.</p>
<h1 id="copying-and-moving-files">Copying and moving files</h1>
<p>Locate the path where you have downloaded the two COVID19 data files and use the <code>ls</code> command to verify that they are indeed stored on that directory. If you have downloaded the two files in a directory called <strong>for instance</strong> <code>Downloads</code> located right below a home directory called <strong>for instance</strong> <code>/Users/robert</code>, you can use the <code>ls</code> command as follows to check out the presence of those files in that directory</p>
<pre><code>$ ls /Users/robert/Downloads</code></pre>
<p>It may happen that you have lots of other files on that directory and becomes difficult to distinguish whether your files of interest are really there. In this case, because the two files names that you have downloaded start with the prefix <code>catalunya</code> you can use the so-called <a href="https://en.wikipedia.org/wiki/Wildcard_character"><em>wildcard</em> character</a> <code>*</code> to restrict the file listing operation to those two files by typing on the command-line:</p>
<pre><code>$ ls /Users/robert/Downloads/catalunya*</code></pre>
<p>So that if they are really there you will see only both of them, and eventually any other file that starts with the prefix <code>catalunya</code>. Now, copy both files to your current brand new directory using the command <code>cp</code>. <strong>For instance</strong>, if one of the files <strong>were</strong> located at</p>
<pre><code>/Users/robert/Downloads/catalunya_setmanal.zip</code></pre>
<p>then the command to copy that file to the current PWD <strong>would be</strong></p>
<pre><code>cp /Users/robert/Downloads/catalunya_setmanal.zip .</code></pre>
<p><strong>Tip:</strong> when writing long paths it is useful to exploit the so-called <em>tab-completion mechanism</em>, which consists of pressing the <code>Tab</code> key (typically located above the <code>Caps Lock</code> key) once you've written a few letter of a file name in the path. If those few letters constitute a unique prefix of the filename, the rest of the filename will be written for you by the shell. If the prefix is not unique, by pressing the <code>Tab</code> key twice, the shell will show your the two or more filenames that match that prefix.</p>
<p>Note that because <code>/Users/robert</code> corresponds in this example to the <em>home</em> directory of the user, we could use the abbreviation <code>~</code>, corresponding to the <em>home</em> directory, to write the previous command line as</p>
<pre><code>cp ~/Downloads/catalunya_setmanal.zip .</code></pre>
<p>Note that the previous command will work regardless of what is your username, as long as the sought file is stored in the <code>Downloads</code> directory. <strong>Tip:</strong> In keyboards with a Spanish layout, the tilde <code>~</code> character can be written by pressing the keys <code>AltGr+4</code>.</p>
<p>Once you have copied the two files, please verify using the command <code>ls</code> that the two files are indeed in your current PWD. If you have been successful, you have probably typed twice the <code>cp</code> command. However, because the two filenames start with the prefix <code>catalunya</code>, you could have done the job with one single command by using again the wildcard character <code>*</code> as follows</p>
<pre><code>$ cp /Users/robert/Downloads/catalunya* .</code></pre>
<p>Because you have copied the two files, they will stay in their original directory from where you have copied them, e.g., in <code>/Users/robert/Downloads</code> in the example above. A slightly different operation is to <strong>move</strong> the files, which means that they are removed from their original location once they are copied into their destination. The command to move the files, instead of copy them, is <code>mv</code> with an analogous syntax to <code>cp</code>. Try to move the files and check out that they dissapear from their original location.</p>
<h1 id="unpacking-and-uncompressing-files">Unpacking and uncompressing files</h1>
<p>The two files we have copied to our directory called <code>practical1</code> should have the following names:</p>
<ul>
<li><code>catalunya_setmanal.zip</code></li>
<li><code>catalunya_diari.zip</code></li>
</ul>
<p>The <a href="https://en.wikipedia.org/wiki/Filename_extension">filename extension</a> <code>.zip</code> indicates that these two files contained packaged (possibly more than one file) and compressed (reduced in size) files. To unpackage and uncompress these two files we can use the command <code>unzip</code>. A good practise is to make a first call to <code>unzip</code> using the option <code>-l</code> to list the contents of each file without unpackaging and uncompressing them:</p>
<pre><code>unzip -l catalunya_setmanal.zip
unzip -l catalunya_diari.zip</code></pre>
<p>This operation allows us to anticipate what files are going to be created by unpackaging and uncompressing these two <code>.zip</code> files. Let's do that now:</p>
<pre><code>unzip catalunya_setmanal.zip
unzip catalunya_diari.zip</code></pre>
<p>Use the <code>ls</code> command to see that you have indeed obtain some new files as a result of the previous command.</p>
<h1 id="removing-files">Removing files</h1>
<p>There are two commands to remove files. One is <code>rmdir</code> and the other is <code>rm</code>. Check their respective manual pages and figure out what is the difference between these two commands reading only the <code>NAME</code> section. Going back to our COVID19 data files, you should have now four files, the two <code>.zip</code> files and two new <code>.csv</code> files, corresponding to the unpackaged and uncompressed COVID19 data files. Because we have now the <code>.csv</code> files, we do not need anymore the <code>.zip</code> files, remove these two <code>.zip</code> files by doing:</p>
<pre><code>rm *.zip</code></pre>
<p>Here we have used the wildcar character <code>*</code> to specify that we want to remove all files whose filename ends with <code>.zip</code>. Check out with the command <code>ls</code> that they indeed have been removed. <strong>WARNING</strong>: the Unix system has no bin were removed files could go before being finally removed by emptying the bin. In the command-line interface of a Unix system, if you accidentally remove a file, <strong>you cannot recover it</strong>. Because of that you should pay attention when you use the wildcar character <code>*</code>, because an unintended space character before or after the <code>*</code> could imply <strong>removing all files of your PWD</strong>.</p>
